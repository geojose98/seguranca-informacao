<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Resultado Final</title>
  <style>
    body {
      background-color: #f4f4f4;
      font-family: 'Poppins', sans-serif;
      color: #111;
      padding: 40px 20px;
      text-align: center;
    }

    h1 {
      color: #0d47a1;
      font-size: 2.4em;
      margin-bottom: 10px;
    }

    .resumo {
      background-color: #fff;
      border-left: 5px solid #0d47a1;
      padding: 30px;
      margin: 20px auto;
      max-width: 700px;
      border-radius: 10px;
      box-shadow: 0 0 10px rgba(0,0,0,0.1);
      text-align: left;
    }

    .resumo p {
      font-size: 1.2em;
      margin: 10px 0;
    }

    .botao {
      background-color: #0d47a1;
      color: white;
      padding: 12px 24px;
      font-size: 1em;
      border: none;
      border-radius: 8px;
      cursor: pointer;
      margin-top: 20px;
    }

    .botao:hover {
      background-color: #093270;
    }

    .emoji {
      font-size: 1.5em;
      margin-right: 8px;
      vertical-align: middle;
    }

    strong {
      color: #0d47a1;
    }
  </style>
</head>
<body>
  <h1>Resultado Final</h1>
  <div class="resumo" id="resumoFinal"></div>
  <button class="botao" onclick="window.location.href='index.html'">Voltar ao Início</button>

  <script>
    const respostas = JSON.parse(localStorage.getItem('defesasEscolhidas') || '[]');

    const gabarito = {
      "1": false,
      "2": true,
      "3": "parcial",
      "4": true,
      "5": false,
      "6": true,
      "7": "parcial",
      "8": true,
      "9": true,
      "10": "parcial",
      "11": "parcial",
      "12": true,
      "13": false,
      "14": "parcial",
      "15": "parcial"
    };

    let totalAcertos = 0;
    let totalParciais = 0;
    let totalErros = 0;

    respostas.forEach(id => {
      const acerto = gabarito[id.toString()];
      if (acerto === true) totalAcertos++;
      else if (acerto === "parcial") totalParciais++;
      else totalErros++;
    });

    const resumo = document.getElementById("resumoFinal");
    resumo.innerHTML = `
      <p><span class="emoji">✅</span> <strong>${totalAcertos}</strong> respostas corretas</p>
      <p><span class="emoji">⚠️</span> <strong>${totalParciais}</strong> parcialmente corretas</p>
      <p><span class="emoji">❌</span> <strong>${totalErros}</strong> respostas incorretas</p>
      <hr>
      <p><strong>Reflexão:</strong> A segurança da informação exige decisões éticas, técnicas e estratégicas. Continue estudando e aprimorando sua visão crítica.</p>
    `;
  </script>
</body>
</html>
