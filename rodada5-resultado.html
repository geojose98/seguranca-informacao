<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8">
  <title>Rodada 5 ‚Äì Resultado</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <style>
    body {
      background-color: #121212;
      color: #fff;
      font-family: 'Segoe UI', sans-serif;
      margin: 0;
      padding: 20px;
    }

    h1 {
      color: #ffe600;
      font-size: 1.8em;
      margin-bottom: 10px;
    }

    .sub {
      font-size: 0.95em;
      color: #ccc;
      margin-bottom: 30px;
    }

    .feedback-card {
      background-color: #1e1e1e;
      border-left: 6px solid #333;
      border-radius: 8px;
      padding: 20px;
      margin-bottom: 25px;
    }

    .feedback-card h2 {
      font-size: 1.2em;
      color: #00ccff;
      margin-bottom: 10px;
    }

    .feedback-card[data-categoria="‚ùå"] {
      border-left-color: #ff4c4c;
    }

    .feedback-card[data-categoria="‚úÖ"] {
      border-left-color: #4caf50;
    }

    .feedback-card[data-categoria="‚ö†Ô∏è"] {
      border-left-color: #ffc107;
    }

    .feedback-card ul {
      margin: 0;
      padding-left: 20px;
    }

    .feedback-card li {
      margin-bottom: 5px;
      line-height: 1.4;
    }

    .feedback-card strong {
      color: #fff;
    }

    .final-msg {
      background-color: #252525;
      padding: 20px;
      border-left: 5px solid #ffe600;
      border-radius: 8px;
      margin-top: 40px;
      font-size: 1.1em;
    }

    .botao {
      margin-top: 30px;
      padding: 12px 24px;
      background-color: #ffe600;
      color: #000;
      font-weight: bold;
      border: none;
      border-radius: 8px;
      cursor: pointer;
      display: inline-block;
    }
  </style>
</head>
<body>
  <h1>üèÅ Rodada 5: Reconstru√ß√£o e Julgamento Final</h1>
  <p class="sub">Veja agora a an√°lise final com base nas escolhas do seu grupo nesta etapa de encerramento.</p>
  <div id="feedback-container"></div>
  <div id="final-msg" class="final-msg"></div>
  <button class="botao" onclick="proximaRodada()">Encerrar Jogo</button>

  <script>
    async function carregarFeedback() {
      const selecionadas = JSON.parse(localStorage.getItem('defesasEscolhidas') || '[]');
      const resposta = await fetch('feedbackRodada5.json');
      const feedbackData = await resposta.json();

      const container = document.getElementById('feedback-container');
      let parcialmenteCorretas = 0;

      selecionadas.forEach(id => {
        const fb = feedbackData[id];
        if (!fb) return;

        if (fb.acerto === "parcial") parcialmenteCorretas++;

        const card = document.createElement('div');
        card.classList.add('feedback-card');
        card.dataset.categoria = fb.categoria;
        card.innerHTML = `
          <h2>${id}. ${fb.titulo} ${fb.categoria}</h2>
          <ul>
            <li><strong>Vulnerabilidades ${fb.acerto === "parcial" ? 'parcialmente tratadas' : fb.acerto === false ? 'ignoradas' : 'n√£o relacionadas'}:</strong> ${fb.vulnerabilidades}</li>
            <li><strong>Princ√≠pios ${fb.acerto === "parcial" ? 'parcialmente protegidos' : fb.acerto === false ? 'violados' : 'n√£o relacionados diretamente'}:</strong> ${fb.principios}</li>
            <li><strong>Conformidade:</strong>
              <ul>${fb.conformidade.map(l => `<li>‚úî ${l}</li>`).join('')}</ul>
            </li>
            <li><strong>Explica√ß√£o pedag√≥gica:</strong> ${fb.explicacao}</li>
          </ul>
        `;
        container.appendChild(card);
      });

      const finalMsg = document.getElementById('final-msg');
      if (parcialmenteCorretas >= 4) {
        finalMsg.innerHTML = "üü° <strong>Governan√ßa em constru√ß√£o:</strong> A Uber inicia um processo de reconstru√ß√£o institucional, e as a√ß√µes indicam o esfor√ßo de implantar um SGSI e estabelecer uma cultura de compliance. Ainda n√£o h√° plenitude, mas h√° dire√ß√£o. As normas ISO/IEC 27001 e 27002 come√ßam a ganhar espa√ßo nos processos; pr√°ticas de reten√ß√£o de conhecimento e cultura de seguran√ßa tornam-se parte do cotidiano. A LGPD e a GDPR passam a orientar as condutas, refor√ßando a √©tica, a rastreabilidade e o respeito aos titulares de dados. A li√ß√£o mais importante foi compreendida: proteger a informa√ß√£o √© proteger o futuro.";
      } else if (parcialmenteCorretas >= 1) {
        finalMsg.innerHTML = "üü† <strong>Consertos em obra viva:</strong> Algumas medidas indicam esfor√ßo, mas ainda s√£o t√≠midas diante da complexidade da crise. A empresa d√° sinais de que come√ßa a compreender a import√¢ncia da governan√ßa da informa√ß√£o, mas o SGSI √© fr√°gil ou inexistente, e a cultura √©tica n√£o se consolida. A prote√ß√£o ao conhecimento ainda carece de sistematiza√ß√£o. A LGPD e a GDPR exigem mais que boas inten√ß√µes: pedem estrutura, processos rastre√°veis e responsabiliza√ß√£o clara.";
      } else {
        finalMsg.innerHTML = "üî¥ <strong>Ciclos que se repetem:</strong> A Uber falhou em consolidar uma governan√ßa √©tica e uma gest√£o de seguran√ßa madura. Ausente de um SGSI, sem planos consistentes, sem responsabiliza√ß√£o ativa, a empresa n√£o conseguiu aprender com os pr√≥prios erros. Persistem os riscos √† integridade dos dados, ao cumprimento da LGPD e do GDPR, e √† reten√ß√£o do conhecimento organizacional. A aus√™ncia de pilares s√≥lidos perpetua a vulnerabilidade.";
      }
    }

    function proximaRodada() {
      alert("Parab√©ns por concluir o jogo! Agora √© hora de refletir e aplicar esses aprendizados na pr√°tica.");
      // Redirecionamento futuro pode ser adicionado aqui
    }

    carregarFeedback();
  </script>
</body>
</html>
